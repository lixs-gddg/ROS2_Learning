
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Migration tool for pbstream files &#8212; Cartographer  documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/classic.css" />
    
    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="Cost functions" href="cost_functions.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="cost_functions.html" title="Cost functions"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">Cartographer  documentation</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Migration tool for pbstream files</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="migration-tool-for-pbstream-files">
<h1>Migration tool for pbstream files<a class="headerlink" href="#migration-tool-for-pbstream-files" title="Permalink to this headline">¶</a></h1>
<p>The pbstream serialization format for 3D has changed to include additional
data (histograms) in each submap. Code to load old data by migrating
on-the-fly will be removed soon. Once this happened, users who wish to
migrate old pbstream files can use a migration tool.</p>
<p>The tool is shipped as part of Cartographer’s pbstream tool (<a class="reference external" href="https://github.com/cartographer-project/cartographer/blob/master/cartographer/io/pbstream_main.cc">source</a>) and once
built can be invoked as follows::</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cartographer_pbstream</span> <span class="n">migrate</span> <span class="n">old</span><span class="o">.</span><span class="n">pbstream</span> <span class="n">new</span><span class="o">.</span><span class="n">pbstream</span>
</pre></div>
</div>
<p>The tool assumes 3D data in the old submap format as input and converts it
to the currently used format version.</p>
<section id="migrating-pre-1-0-pbstream-files">
<h2>Migrating pre-1.0 pbstream files<a class="headerlink" href="#migrating-pre-1-0-pbstream-files" title="Permalink to this headline">¶</a></h2>
<p>With the update of the pbstream serialization format as discussed in
<a class="reference external" href="https://github.com/cartographer-project/rfcs/blob/master/text/0021-serialization-format.md">RFC-0021</a>, previously serialized pbstream files are not loadable in
Cartographer 1.0 anymore.</p>
<p>In order to enable users to reuse previously generated pbstream files,
migration using an older version of the migration tool is necessary.
The current tool does not support this migration anymore. Please use
the version at Git SHA 6c889490e245cc5d9da15023249c6fc7119def3f.</p>
</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Migration tool for pbstream files</a><ul>
<li><a class="reference internal" href="#migrating-pre-1-0-pbstream-files">Migrating pre-1.0 pbstream files</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="cost_functions.html"
                        title="previous chapter">Cost functions</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/pbstream_migration.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="cost_functions.html" title="Cost functions"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">Cartographer  documentation</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Migration tool for pbstream files</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2023 The Cartographer Authors.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 4.3.2.
    </div>
  </body>
</html>